# 4. Respuestas

Como primer patron de diseño tenemos el **builder** para imagenes se implementa una clase ClinicalImageBuilder que orquesta la creación de las imágenes de contenedor o VM que se desplegarán en los nodos rurales. En lugar de escribir Dockerfiles monolíticos y propensos a error, el Builder ensambla la imagen paso a paso asegurando el orden correcto, de esta manera reducimos los errores humanos ya que eliminamos la configuracion manual, el builder tendria una estructura rigida que falla si falta algun paso de seguridad. El costo de la auditoria, el código del Builder es la documentación viva. El auditor solo valida la lógica de construcción una vez, no cada imagen individual. Ademas si sufrieamos un ataque el tiempo de recuperacion seria relativamente corto ya que el builder permitiria recontruir todo de manera determinista.


El siguiente patron seria el **prototype** para entornos de prueba este se utiliza en un objeto ProductionNodePrototype que representa la configuración "Gold Standard" de un nodo clínico en producción. Para crear un entorno de pruebas no se define desde cero. Se invoca el método clone() del prototipo e inyecta un mutator que , cambia las credenciales reales ,reduce la asignacion de memoria y aisla la red, al igual que la anterior esta reduce los herrores humanos ya que garantiza que el entorno de pruebas sea matemáticamente idéntico a producción en su arquitectura base. Evita el síndrome de "en mi máquina funciona" causado por diferencias de configuración. Al auditar el Prototipo Maestro, se validan implícitamente todas sus clonaciones. Solo se auditan las diferencias (el mutator), reduciendo drásticamente el alcance de la revisión. Aqui el tiempo de recuperacion es mas rapido incluso permite levantar entornos forenses idénticos al nodo fallido en segundos para diagnosticar la causa raíz (root cause analysis) sin tocar el sistema en vivo.

Por ultimo tenemos el patron **Composite** para observabilidad clinica, se crea un modulo compuesto ObservabilityComposite que agrupa como una sola unidad logica a todos los agentes necesarios para la vigilancia del paciente y del sistema:
Agente de Logs de Auditoría (Audit-Service), monitor de Métricas Vitales (Latencia de inferencia) y detector de Intrusiones (IDS). Igual que los anteriores evita los herrores humanos en este caso previene el "olvido selectivo". Es imposible desplegar el nodo con métricas pero sin auditoría legal, ya que el Composite fuerza la cohesión: o se despliega todo el bloque de observabilidad, o nada.